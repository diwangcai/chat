(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},181:(e,t,r)=>{"use strict";r.d(t,{HW:()=>c,a1:()=>u,lo:()=>a,lt:()=>o});let s="chat:users",l="chat:user";function a(){try{return JSON.parse(localStorage.getItem(s)||"[]")}catch(e){return[]}}function n(e){localStorage.setItem(s,JSON.stringify(e))}function c(){try{return JSON.parse(localStorage.getItem(l)||"null")}catch(e){return null}}function o(e){localStorage.setItem(l,JSON.stringify(e));let t=a(),r=t.findIndex(t=>t.id===e.id);r>=0?t[r]=e:t.push(e),n(t)}function u(e){n(a().filter(t=>t.id!==e));let t=c();(null==t?void 0:t.id)===e&&localStorage.removeItem(l)}},4777:(e,t,r)=>{Promise.resolve().then(r.bind(r,5404))},5404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),l=r(2115),a=r(63),n=r(181);function c(){let e=(0,a.useRouter)(),[t,r]=(0,l.useState)(""),[c,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{localStorage.getItem("chat:user")&&e.replace("/")},[e]),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--surface)"},children:(0,s.jsxs)("div",{className:"w-full max-w-sm bg-white rounded-2xl shadow p-6 border",style:{borderColor:"var(--border)"},children:[(0,s.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"登录 / 注册"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"昵称"}),(0,s.jsx)("input",{className:"w-full border rounded-xl px-3 py-2",style:{borderColor:"var(--border)"},value:t,onChange:e=>r(e.target.value),placeholder:"输入昵称"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:c,onChange:e=>o(e.target.checked)}),"这是管理员账号"]}),(0,s.jsx)("button",{className:"btn-primary w-full",onClick:()=>{let r={id:Date.now().toString(),name:t||"未命名用户",isAdmin:c,createdAt:new Date().toISOString()};(0,n.lt)(r),e.replace("/")},children:"进入"})]})]})})}}},e=>{e.O(0,[441,493,358],()=>e(e.s=4777)),_N_E=e.O()}]);